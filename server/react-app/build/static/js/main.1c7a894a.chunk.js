(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){"use strict";n.r(t);var r,c=n(0),a=n(1),s=n.n(a),i=n(13),u=n.n(i),o=n(5),l=n(15),j=n(28),b=n(2),d=n.n(b),p=n(4),f="setUser",h="removeUser",O=function(e){return{type:f,payload:e}},m=function(){return{type:h}},x=function(e){return function(){var t=Object(p.a)(d.a.mark((function t(n){var r,c,a,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.username,c=e.password,t.next=3,fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:r,password:c})});case 3:return a=t.sent,t.next=6,a.json();case 6:if(s=t.sent,!Object.keys(s).includes("errors")){t.next=9;break}return t.abrupt("return",a);case 9:return n(O(s)),t.abrupt("return",a);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},v=function(e){return function(){var t=Object(p.a)(d.a.mark((function t(n){var r,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 2:return r=t.sent,t.next=5,r.json();case 5:if(c=t.sent,!Object.keys(c).includes("errors")){t.next=8;break}return t.abrupt("return",r);case 8:return n(O(c.user)),t.abrupt("return",r);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},g=function(e,t){return function(){var n=Object(p.a)(d.a.mark((function n(r){var c,a;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("/api/users/".concat(t,"/edit"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 2:return c=n.sent,n.next=5,c.json();case 5:if(a=n.sent,!Object.keys(a).includes("errors")){n.next=8;break}return n.abrupt("return",c);case 8:return r(O(a.user)),n.abrupt("return",c);case 10:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},N=function(e,t){return function(){var n=Object(p.a)(d.a.mark((function n(r){var c,a;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("/api/users/".concat(t,"/delete"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 2:return c=n.sent,n.next=5,c.json();case 5:if(a=n.sent,!Object.keys(a).includes("errors")){n.next=8;break}return n.abrupt("return",c);case 8:return r(m()),n.abrupt("return",c);case 10:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},y=function(e,t){return function(){var n=Object(p.a)(d.a.mark((function n(r){var c,a;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("/api/users/".concat(t,"/favorites/add/").concat(e),{method:"POST"});case 2:return c=n.sent,n.next=5,c.json();case 5:return a=n.sent,r(O(a.user)),n.abrupt("return",c);case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},w=function(e,t){return function(){var n=Object(p.a)(d.a.mark((function n(r){var c,a;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("/api/users/".concat(t,"/favorites/remove/").concat(e),{method:"POST"});case 2:return c=n.sent,n.next=5,c.json();case 5:return a=n.sent,r(O(a.user)),n.abrupt("return",c);case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},k=function(e,t){return function(){var n=Object(p.a)(d.a.mark((function n(r){var c,a;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("/api/users/".concat(t,"/follow/").concat(e),{method:"POST"});case 2:return c=n.sent,n.next=5,c.json();case 5:return a=n.sent,r(O(a.user)),n.abrupt("return",c);case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},S=function(e,t){return function(){var n=Object(p.a)(d.a.mark((function n(r){var c,a;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("/api/users/".concat(t,"/unfollow/").concat(e),{method:"POST"});case 2:return c=n.sent,n.next=5,c.json();case 5:return a=n.sent,r(O(a.user)),n.abrupt("return",c);case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},C={user:null},F=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case f:return(e=Object.assign({},t)).user=n.payload,e;case h:return(e=Object.assign({},t)).user=null,e;default:return t}},P="setProduct",T="allProducts",q=function(e){return{type:P,payload:e}},I=function(e){return{type:T,payload:e}},D=function(e){return function(){var t=Object(p.a)(d.a.mark((function t(n){var r,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/products/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 2:return r=t.sent,t.next=5,r.json();case 5:c=t.sent,n(q(c.product));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},E=function(e){return function(){var t=Object(p.a)(d.a.mark((function t(n){var r,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/products/".concat(e));case 2:return r=t.sent,t.next=5,r.json();case 5:return c=t.sent,n(q(c.products)),t.abrupt("return",r);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},J=function(e){return function(){var t=Object(p.a)(d.a.mark((function t(n){var r,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/products/by_user/".concat(e));case 2:return r=t.sent,t.next=5,r.json();case 5:return c=t.sent,n(I(c.products)),t.abrupt("return",r);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},U=function(e){return function(){var t=Object(p.a)(d.a.mark((function t(n){var r,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/products/by_category/".concat(e));case 2:return r=t.sent,t.next=5,r.json();case 5:return c=t.sent,n(I(c.products)),t.abrupt("return",r);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},_=function(e,t){return function(){var n=Object(p.a)(d.a.mark((function n(r){var c,a;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("/api/products/edit/".concat(t),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 2:return c=n.sent,n.next=5,c.json();case 5:return a=n.sent,r(q(a.product)),n.abrupt("return",c);case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},B=function(e,t){return function(){var n=Object(p.a)(d.a.mark((function n(r){var c;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("/api/products/delete/".concat(t),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 2:return c=n.sent,r(q({id:null,user:{id:null}})),n.abrupt("return",c);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},R=function(e,t){return function(){var n=Object(p.a)(d.a.mark((function n(r){var c,a;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("/api/store/".concat(e,"/rate"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return c=n.sent,n.next=5,c.json();case 5:return a=n.sent,r(q(a.product)),n.abrupt("return",c);case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},Y=function(e,t){return function(){var n=Object(p.a)(d.a.mark((function n(r){var c,a;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("/api/store/".concat(e,"/rate"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return c=n.sent,n.next=5,c.json();case 5:return a=n.sent,r(q(a.product)),n.abrupt("return",c);case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},H={product:{id:null,user:{id:null}},products:null},L=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case P:return(e=Object.assign({},t)).product=n.payload,e;case T:return(e=Object.assign({},t)).products=n.payload,e;default:return t}},z="checkFavorite",W=function(e){return function(){var t=Object(p.a)(d.a.mark((function t(n){var r,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/users/".concat(e,"/favorites"));case 2:return r=t.sent,t.next=5,r.json();case 5:return c=t.sent,n((a=c.favorites,{type:z,payload:a})),t.abrupt("return",r);case 8:case"end":return t.stop()}var a}),t)})));return function(e){return t.apply(this,arguments)}}()},A={favorites:[]},G=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case z:return(e=Object.assign({},t)).favorites=n.payload,e;default:return t}},M=n(29),$="setCart",Q=function(e){return{type:$,payload:e}},K=function(){return function(){var e=Object(p.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=JSON.parse(localStorage.getItem("cart"))){e.next=6;break}return localStorage.setItem("cart",JSON.stringify([])),e.abrupt("return",t(Q([])));case 6:return e.abrupt("return",t(Q(n)));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},V=function(e){return function(){var t=Object(p.a)(d.a.mark((function t(n){var r,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=JSON.parse(localStorage.getItem("cart")),c=[].concat(Object(M.a)(r),[e]),localStorage.setItem("cart",JSON.stringify(c)),n(Q(c));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},X=function(e){return function(){var t=Object(p.a)(d.a.mark((function t(n){var r,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=JSON.parse(localStorage.getItem("cart")),c=r.filter((function(t){return t!==e})),localStorage.setItem("cart",JSON.stringify(c)),n(Q(c));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Z={cart:[]},ee=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case $:return(e=Object.assign({},t)).cart=n.payload,e;default:return t}},te="setSeller",ne=function(e){return function(){var t=Object(p.a)(d.a.mark((function t(n){var r,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/users/".concat(e));case 2:return r=t.sent,t.next=5,r.json();case 5:return c=t.sent,n((a=c.user,{type:te,payload:a})),t.abrupt("return",r);case 8:case"end":return t.stop()}var a}),t)})));return function(e){return t.apply(this,arguments)}}()},re={seller:{}},ce=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case te:return(e=Object.assign({},t)).seller=n.payload,e;default:return t}},ae="setResults",se=function(e){return{type:ae,payload:e}},ie=function(e){return function(){var t=Object(p.a)(d.a.mark((function t(n){var r,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/products/by_tag/".concat(e));case 2:return r=t.sent,t.next=5,r.json();case 5:return c=t.sent,n(se(c.products)),t.abrupt("return",r);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ue={results:[]},oe=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case ae:return(e=Object.assign({},t)).results=n.payload,e;default:return t}},le="getCartItems",je=function(e){return{type:le,payload:e}},be=function(e){return function(){var t=Object(p.a)(d.a.mark((function t(n){var r,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/store/cart/items",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 2:return r=t.sent,t.next=5,r.json();case 5:return c=t.sent,n(je(c.products)),t.abrupt("return",r);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},de=function(e){return function(){var t=Object(p.a)(d.a.mark((function t(n){var r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/store/checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},pe={products:[]},fe=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case le:return(e=Object.assign({},t)).products=n.payload,e;default:return t}},he="setQuantities",Oe="resetQuantities",me=function(e,t){return{type:he,payload:{item:e,quantity:t}}},xe=function(e,t){return function(){var n=Object(p.a)(d.a.mark((function n(r){return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r(me(e,t));case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},ve={},ge=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case he:return(e=Object.assign({},t))[n.payload.item]=n.payload.quantity,e;case Oe:return ve;default:return t}},Ne="getHistory",ye=function(e){return function(){var t=Object(p.a)(d.a.mark((function t(n){var r,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/users/".concat(e,"/history"));case 2:return r=t.sent,t.next=5,r.json();case 5:return c=t.sent,n((a=c.purchase_history,{type:Ne,payload:a})),t.abrupt("return",r);case 8:case"end":return t.stop()}var a}),t)})));return function(e){return t.apply(this,arguments)}}()},we={history:[]},ke=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case Ne:return(e=Object.assign({},t)).history=n.payload,e;default:return t}},Se="getRatings",Ce=function(e){return function(){var t=Object(p.a)(d.a.mark((function t(n){var r,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/users/".concat(e,"/ratings"));case 2:return r=t.sent,t.next=5,r.json();case 5:return c=t.sent,n((a=c.ratings,{type:Se,payload:a})),t.abrupt("return",r);case 8:case"end":return t.stop()}var a}),t)})));return function(e){return t.apply(this,arguments)}}()},Fe={reviews:[]},Pe=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case Se:return(e=Object.assign({},t)).reviews=n.payload,e;default:return t}},Te=Object(l.c)({session:F,seller:ce,products:L,favorites:G,cart:ee,search:oe,checkout:fe,quantities:ge,history:ke,ratings:Pe});r=Object(l.a)(j.a);var qe=function(e){return Object(l.d)(Te,e,r)},Ie=(n(40),n(41),n(42),n(3)),De=n(6),Ee=n(8),Je=n(25),Ue=function(e){var t=Object(o.c)((function(e){return e.session.user}));return Object(c.jsx)(Ee.b,Object(Je.a)(Object(Je.a)({},e),{},{children:t?e.children:Object(c.jsx)(Ee.a,{to:"/"})}))},_e=function(){var e=Object(o.c)((function(e){return e.session.user})),t=Object(o.c)((function(e){return e.quantities})),n=Object(o.c)((function(e){return e.checkout.products})),r=Object(a.useState)(!1),s=Object(Ie.a)(r,2),i=s[0],u=s[1],l=Object(a.useState)(0),j=Object(Ie.a)(l,2),b=j[0],f=j[1],h=Object(o.b)(),O=Object(Ee.g)();Object(a.useEffect)((function(){Object(p.a)(d.a.mark((function e(){var r,c,a,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=0,c=0;case 2:if(!(c<=n.length)){e.next=13;break}if(void 0!==(a=n[c])){e.next=6;break}return e.abrupt("continue",10);case 6:if("number"===typeof t[a.id]){e.next=8;break}return e.abrupt("continue",10);case 8:s=t[a.id]*a.price,r+=s;case 10:c++,e.next=2;break;case 13:return e.next=15,f(r.toFixed(2));case 15:case"end":return e.stop()}}),e)})))()}),[t,n]),Object(a.useEffect)((function(){Object(p.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(b<=e.money)){t.next=5;break}return t.next=3,u(!0);case 3:t.next=7;break;case 5:return t.next=7,u(!1);case 7:case"end":return t.stop()}}),t)})))()}),[b,e.money,t]);var m=function(){var n=Object(p.a)(d.a.mark((function n(r){var c;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r.preventDefault(),c={quantities:t,grandTotal:b,user:e.id},n.next=4,h(de(c));case 4:return n.next=6,h(function(){var e=Object(p.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],localStorage.setItem("cart",JSON.stringify(n)),t(Q(n));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 6:return n.next=8,h(function(){var e=Object(p.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:Oe});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 8:return n.next=10,h(ye(e.id));case 10:return n.next=12,h(Ce(e.id));case 12:return n.abrupt("return",O.push("/shop"));case 13:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return i?Object(c.jsxs)("div",{className:"checkout-container",children:[Object(c.jsxs)("p",{children:["Grand Total: $",b]}),Object(c.jsxs)("p",{children:["Your Money: $",e.money]}),Object(c.jsxs)("button",{className:"login-button",onClick:m,children:["Checkout",Object(c.jsx)("span",{className:"login-spacer"}),Object(c.jsx)("i",{className:"fas fa-arrow-circle-right"})]})]}):Object(c.jsxs)("div",{className:"checkout-container",children:[Object(c.jsxs)("p",{children:["Grand Total: $",b]}),Object(c.jsxs)("p",{children:["Your Money: $",e.money]}),Object(c.jsx)("p",{className:"warning-header",children:"Not Enough Funds"})]})},Be=function(e){var t=e.product,n=Object(o.b)(),r=function(){var e=Object(p.a)(d.a.mark((function e(r){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(xe(t.id,parseInt(r.target.value)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.jsxs)("div",{className:"cart-quantity",children:[Object(c.jsx)("label",{htmlFor:"quantity",children:"Quantity"}),Object(c.jsx)("span",{className:"login-spacer"}),Object(c.jsx)("select",{onChange:r,name:"quantity",children:function(e){for(var t=[],n=1;n<=e;n++)t.push(Object(c.jsx)("option",{value:n,children:n},n));return t}(t.quantity).map((function(e){return e}))})]})},Re=(n(44),function(){var e=Object(o.c)((function(e){return e.cart.cart})),t=Object(o.c)((function(e){return e.checkout.products})),n=Object(a.useState)(!1),r=Object(Ie.a)(n,2),s=r[0],i=r[1],u=Object(o.b)(),l=Object(Ee.g)();return Object(a.useEffect)((function(){Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(K());case 2:return e.next=4,i(!0);case 4:case"end":return e.stop()}}),e)})))()}),[u]),Object(a.useEffect)((function(){Object(p.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u(be({cart:e}));case 2:case"end":return t.stop()}}),t)})))()}),[u,e]),t.length?s&&Object(c.jsxs)(c.Fragment,{children:[t.map((function(e,t){return u(xe(e.id,1)),Object(c.jsxs)("div",{className:"cart-item",children:[Object(c.jsx)("div",{className:"cart-image-container",children:Object(c.jsx)("img",{className:"cart-image",src:"https://crafty-app.s3.us-east-2.amazonaws.com/".concat(e.image),alt:"checkout"})}),Object(c.jsx)(Be,{product:e}),Object(c.jsx)("div",{className:"cart-item-price",children:e.price}),Object(c.jsx)("button",{className:"cart-remove-button",onClick:function(){u(X(e.id))},children:Object(c.jsx)("i",{className:"fas fa-window-close"})})]},t)})),Object(c.jsx)(_e,{})]}):Object(c.jsxs)("div",{className:"empty-cart-div",children:[Object(c.jsx)("p",{className:"cart-empty-text",children:"No products are currently in your cart!"}),Object(c.jsx)("button",{className:"login-button",onClick:function(){return l.push("/shop")},children:"Back to Shop"})]})}),Ye=(n(45),function(e){var t,n=e.product,r=Object(a.useState)(""),s=Object(Ie.a)(r,2),i=s[0],u=s[1];return Object(a.useEffect)((function(){Object(p.a)(d.a.mark((function e(){var t,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(t=n.rating).length){e.next=5;break}return e.abrupt("return");case 5:for(r=0,c=0;c<t.length;c++)r+=parseInt(t[c].rating);return e.abrupt("return",u(parseInt(r)/parseInt(t.length)));case 8:case"end":return e.stop()}}),e)})))()}),[n.rating]),Object(c.jsxs)("div",{className:"product-container",children:[Object(c.jsxs)("div",{className:"product-preview-header",children:[Object(c.jsx)("p",{className:"product-preview-name",children:n.name})," ",Object(c.jsxs)("p",{children:["$ ",n.price]})]}),Object(c.jsx)(De.b,{to:"/product/".concat(n.id),children:Object(c.jsx)("div",{className:"product-preview-image-container",children:Object(c.jsx)("img",{className:"product-preview-image",src:"https://crafty-app.s3.us-east-2.amazonaws.com/".concat(n.image),alt:"product"})})}),Object(c.jsxs)("div",{className:"product-preview-rating",children:[n.quantity<5?(t=n.quantity,0===t?Object(c.jsx)("p",{children:"Sold out!"}):t<=5&&t>0?Object(c.jsxs)("p",{children:["Only ",t," left!"]}):void 0):Object(c.jsx)("p",{}),i?Object(c.jsxs)("p",{className:"preview-rating",children:[i," ",Object(c.jsx)("i",{className:"far fa-star product-preview-star"})]}):"No ratings yet"]})]})}),He=function(){var e=Object(a.useState)(!1),t=Object(Ie.a)(e,2),n=t[0],r=t[1],s=Object(o.b)(),i=Object(Ee.h)().category,u=Object(o.c)((function(e){return e.products.products}));return Object(a.useEffect)((function(){Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(K());case 2:return e.next=4,s(U(i));case 4:return e.next=6,r(!0);case 6:case"end":return e.stop()}}),e)})))()}),[s,i]),n&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("p",{className:"feed-header",children:i}),Object(c.jsx)("div",{className:"feed-container",children:u.map((function(e,t){return Object(c.jsx)(Ye,{product:e},e.name.concat(t))}))})]})},Le=function(e){var t=e.onClose,n=Object(a.useState)(""),r=Object(Ie.a)(n,2),s=r[0],i=r[1],u=Object(a.useState)(""),l=Object(Ie.a)(u,2),j=l[0],b=l[1],f=Object(o.c)((function(e){return e.session.user})),h=Object(o.b)();Object(a.useEffect)((function(){}),[f]);var O=function(){var e=Object(p.a)(d.a.mark((function e(n){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),r={username:s,password:j},e.next=4,h(x(r));case 4:return e.abrupt("return",t());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();if(f)return Object(c.jsx)(Ee.a,{to:"/shop"});return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("form",{className:"login-form",onSubmit:O,children:[Object(c.jsxs)("div",{className:"field-holder",children:[Object(c.jsx)("label",{className:"form-label",htmlFor:"username",children:"Username"}),Object(c.jsx)("input",{className:"form-input",type:"text",name:"username",value:s,onChange:function(e){return i(e.target.value)}})]}),Object(c.jsxs)("div",{className:"field-holder",children:[Object(c.jsx)("label",{className:"form-label",htmlFor:"password",children:"Password"}),Object(c.jsx)("input",{className:"form-input",type:"password",name:"password",value:j,onChange:function(e){return b(e.target.value)}})]}),Object(c.jsx)("div",{className:"login-button-container",children:Object(c.jsxs)("button",{className:"login-button",type:"submit",children:["Login",Object(c.jsx)("span",{className:"login-spacer"}),Object(c.jsx)("i",{className:"fas fa-arrow-circle-right"})]})}),Object(c.jsx)("div",{children:Object(c.jsxs)("button",{onClick:function(e){return e.preventDefault(),h(x({username:"Demo User",password:"password"})),t()},className:"login-button",children:["Demo User",Object(c.jsx)("span",{className:"login-spacer"}),Object(c.jsx)("i",{className:"fas fa-arrow-circle-right"})]})})]})})},ze=function(e){var t=e.onClose,n=Object(o.c)((function(e){return e.session.user})),r=Object(a.useState)(""),s=Object(Ie.a)(r,2),i=s[0],u=s[1],l=Object(a.useState)(""),j=Object(Ie.a)(l,2),b=j[0],f=j[1],h=Object(a.useState)(""),O=Object(Ie.a)(h,2),m=O[0],x=O[1],g=Object(a.useState)(""),N=Object(Ie.a)(g,2),y=N[0],w=N[1],k=Object(a.useState)(""),S=Object(Ie.a)(k,2),C=S[0],F=S[1],P=Object(a.useState)(""),T=Object(Ie.a)(P,2),q=T[0],I=T[1],D=Object(a.useState)("Profile Picture"),E=Object(Ie.a)(D,2),J=E[0],U=E[1],_=Object(a.useState)("Banner Picture"),B=Object(Ie.a)(_,2),R=B[0],Y=B[1],H=Object(a.useState)(""),L=Object(Ie.a)(H,2),z=L[0],W=L[1],A=Object(a.useState)(0),G=Object(Ie.a)(A,2),M=G[0],$=G[1],Q=Object(o.b)();if(n)return Object(c.jsx)(Ee.a,{to:"/shop"});var K=function(){var e=Object(p.a)(d.a.mark((function e(n){var r,c,a,s,u,o,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),b===m){e.next=3;break}return e.abrupt("return");case 3:if(r={username:i,email:C,password:b,profile_pic:null,banner:null,money:M,bio:y},!q){e.next=14;break}return(c=new FormData).append("file",q),e.next=9,fetch("/api/store/upload",{method:"POST",body:c});case 9:return a=e.sent,e.next=12,a.json();case 12:s=e.sent,r.profile_pic=s.filename;case 14:if(!z){e.next=24;break}return(u=new FormData).append("file",z),e.next=19,fetch("/api/store/upload",{method:"POST",body:u});case 19:return o=e.sent,e.next=22,o.json();case 22:l=e.sent,r.banner=l.filename;case 24:return e.next=26,Q(v(r));case 26:return e.abrupt("return",t());case 27:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("form",{className:"signup-form",encType:"multipart/form-data",onSubmit:K,children:[Object(c.jsxs)("div",{className:"field-holder",children:[Object(c.jsx)("label",{className:"form-label",htmlFor:"username",children:"Username *"}),Object(c.jsx)("input",{className:"signup-form-input",required:!0,type:"text",name:"username",value:i,onChange:function(e){return u(e.target.value)}})]}),Object(c.jsxs)("div",{className:"field-holder",children:[Object(c.jsx)("label",{className:"form-label",htmlFor:"email",children:"Email *"}),Object(c.jsx)("input",{className:"signup-form-input",required:!0,type:"email",name:"email",value:C,onChange:function(e){return F(e.target.value)}})]}),Object(c.jsxs)("div",{className:"field-holder",children:[Object(c.jsx)("label",{className:"form-label",htmlFor:"password",children:"Password *"}),Object(c.jsx)("input",{className:"signup-form-input",required:!0,type:"password",name:"password",value:b,onChange:function(e){return f(e.target.value)}})]}),Object(c.jsxs)("div",{className:"field-holder",children:[Object(c.jsx)("label",{className:"form-label",htmlFor:"confirmPassword",children:"Confirm Password *"}),Object(c.jsx)("input",{className:"signup-form-input",required:!0,type:"password",name:"confirmPassword",value:m,onChange:function(e){return x(e.target.value)}}),m&&b!==m?Object(c.jsx)("p",{className:"password-warning",children:"Passwords do not match"}):Object(c.jsx)("p",{})]}),Object(c.jsxs)("div",{className:"field-holder",children:[Object(c.jsx)("label",{className:"form-label",htmlFor:"bio",children:"Bio"}),Object(c.jsx)("textarea",{className:"form-textarea",name:"bio",placeholder:"Tell us about yourself, or your products!",value:y,onChange:function(e){return w(e.target.value)}})]}),Object(c.jsxs)("div",{className:"field-holder",children:[Object(c.jsx)("label",{className:"form-label",htmlFor:"money",children:"Money (fake, but free!)"}),Object(c.jsx)("input",{className:"signup-form-input",type:"number",step:"any",value:M,onChange:function(e){return $(e.target.value)}})]}),Object(c.jsxs)("div",{className:"form-upload-div",children:[Object(c.jsx)("p",{children:J}),Object(c.jsxs)("label",{htmlFor:"upload",className:"upload-choice",children:["Select",Object(c.jsx)("span",{className:"login-spacer"}),Object(c.jsx)("i",{className:"far fa-folder-open"})]}),Object(c.jsx)("input",{id:"upload",type:"file",name:"profilePic",onChange:function(e){var t=e.target.files[0];U(t.name),I(t)}})]}),Object(c.jsxs)("div",{className:"form-upload-div",children:[Object(c.jsx)("p",{children:R}),Object(c.jsxs)("label",{htmlFor:"bannerPic",className:"upload-choice",children:["Select",Object(c.jsx)("span",{className:"login-spacer"}),Object(c.jsx)("i",{className:"far fa-folder-open"})]}),Object(c.jsx)("input",{type:"file",id:"bannerPic",onChange:function(e){var t=e.target.files[0];Y(t.name),W(t)}})]}),Object(c.jsx)("div",{children:Object(c.jsxs)("button",{className:"login-button",type:"submit",children:["Sign up",Object(c.jsx)("span",{className:"login-spacer"}),Object(c.jsx)("i",{className:"fas fa-arrow-circle-right"})]})})]})})},We=(n(46),function(e){var t=e.open,n=e.children,r=e.onClose;return t?u.a.createPortal(Object(c.jsx)("div",{className:"modal-blur",children:Object(c.jsxs)("div",{className:"modal-content",children:[Object(c.jsx)("div",{className:"modal-button-holder",children:Object(c.jsx)("button",{className:"modal-close-button",onClick:r,children:Object(c.jsx)("i",{className:"fas fa-window-close"})})}),n]})}),document.getElementById("modal")):null}),Ae=(n(47),function(){var e=Object(o.c)((function(e){return e.session.user})),t=Object(a.useState)(!1),n=Object(Ie.a)(t,2),r=n[0],s=n[1],i=Object(a.useState)(!1),u=Object(Ie.a)(i,2),l=u[0],j=u[1];return e?Object(c.jsx)(Ee.a,{to:"/shop"}):Object(c.jsxs)("div",{className:"splash-container",children:[Object(c.jsxs)("div",{className:"splash-background",children:[Object(c.jsxs)("div",{className:"splash-about",children:[Object(c.jsx)("p",{className:"splash-title",children:"Welcome to Crafty"}),Object(c.jsxs)("div",{className:"splash-blurbs",children:[Object(c.jsx)("p",{className:"blurb",children:"Find the Perfect Gift"}),Object(c.jsx)("p",{className:"blurb",children:"Support Small Business"}),Object(c.jsx)("p",{className:"blurb",children:"Ship Anywhere"})]})]}),Object(c.jsxs)("div",{className:"splash-selections",children:[Object(c.jsx)("button",{className:"login-button",onClick:function(){return s(!0)},children:"Log In"}),Object(c.jsx)("p",{children:"OR"}),Object(c.jsx)("button",{className:"login-button",onClick:function(){return j(!0)},children:"Sign Up"})]}),Object(c.jsx)(We,{open:r,onClose:function(){return s(!1)},children:Object(c.jsx)(Le,{onClose:function(){return s(!1)}})}),Object(c.jsx)(We,{open:l,onClose:function(){return j(!1)},children:Object(c.jsx)(ze,{onClose:function(){return j(!1)}})})]}),Object(c.jsxs)("div",{className:"splash-icons",children:[Object(c.jsx)("i",{className:"fas fa-gift"}),Object(c.jsx)("i",{className:"fas fa-wallet"}),Object(c.jsx)("i",{className:"fas fa-truck-moving"}),Object(c.jsx)("i",{className:"fas fa-store"})]})]})}),Ge=function(){var e=Object(o.c)((function(e){return e.session.user})),t=Object(a.useState)(""),n=Object(Ie.a)(t,2),r=n[0],s=n[1],i=Object(a.useState)(""),u=Object(Ie.a)(i,2),l=u[0],j=u[1],b=Object(Ee.g)(),f=Object(o.b)(),h=function(){var t=Object(p.a)(d.a.mark((function t(n){var c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),c={username:r,password:l},t.next=4,f(N(c,e.id));case 4:return t.abrupt("return",b.push("/signup"));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(c.jsxs)("form",{className:"deletion-form",onSubmit:h,children:[Object(c.jsxs)("div",{className:"warning-div",children:[Object(c.jsx)("p",{className:"warning-header",children:"WARNING"}),Object(c.jsx)("p",{className:"warning-text",children:"This will delete your account, all product listings, and reviews"})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("label",{className:"form-label",htmlFor:"username",children:"Username"}),Object(c.jsx)("input",{className:"warning-input",type:"text",name:"username",value:r,onChange:function(e){return s(e.target.value)}})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("label",{className:"form-label",htmlFor:"password",children:"Password"}),Object(c.jsx)("input",{className:"warning-input",type:"password",name:"password",value:l,onChange:function(e){return j(e.target.value)}})]}),Object(c.jsx)("div",{children:Object(c.jsx)("button",{className:"warning-button",type:"submit",children:"Delete Account"})})]})},Me=function(e){var t=e.onClose,n=Object(o.c)((function(e){return e.session.user.id})),r=Object(a.useState)(""),s=Object(Ie.a)(r,2),i=s[0],u=s[1],l=Object(a.useState)(0),j=Object(Ie.a)(l,2),b=j[0],f=j[1],h=Object(a.useState)("Clothing"),O=Object(Ie.a)(h,2),m=O[0],x=O[1],v=Object(a.useState)(""),g=Object(Ie.a)(v,2),N=g[0],y=g[1],w=Object(a.useState)(""),k=Object(Ie.a)(w,2),S=k[0],C=k[1],F=Object(a.useState)(""),P=Object(Ie.a)(F,2),T=P[0],q=P[1],I=Object(a.useState)(""),E=Object(Ie.a)(I,2),J=E[0],U=E[1],_=Object(a.useState)("in"),B=Object(Ie.a)(_,2),R=B[0],Y=B[1],H=Object(a.useState)("in"),L=Object(Ie.a)(H,2),z=L[0],W=L[1],A=Object(a.useState)("in"),G=Object(Ie.a)(A,2),M=G[0],$=G[1],Q=Object(a.useState)(""),K=Object(Ie.a)(Q,2),V=K[0],X=K[1],Z=Object(a.useState)("lbs"),ee=Object(Ie.a)(Z,2),te=ee[0],ne=ee[1],re=Object(a.useState)(""),ce=Object(Ie.a)(re,2),ae=ce[0],se=ce[1],ie=Object(a.useState)(""),ue=Object(Ie.a)(ie,2),oe=ue[0],le=ue[1],je=Object(a.useState)(""),be=Object(Ie.a)(je,2),de=be[0],pe=be[1],fe=Object(a.useState)("Product Image"),he=Object(Ie.a)(fe,2),Oe=he[0],me=he[1],xe=Object(o.b)(),ve=Object(Ee.g)(),ge=function(){var e=Object(p.a)(d.a.mark((function e(r){var c,a,s,u,o,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),c="".concat(T," ").concat(z," x ").concat(J," ").concat(M," x ").concat(S," ").concat(R),a=oe.split(", "),s={sold_by:n,name:i,price:b,category:m,description:N,dimensions:c,weight:"".concat(V," ").concat(te),tags:a,quantity:ae,image:null},!de){e.next=14;break}return(u=new FormData).append("file",de),e.next=9,fetch("/api/store/upload",{method:"POST",body:u});case 9:return o=e.sent,e.next=12,o.json();case 12:l=e.sent,s.image=l.filename;case 14:return e.next=16,xe(D(s));case 16:return t(),e.abrupt("return",ve.push("/shop"));case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("form",{className:"product-form",onSubmit:ge,children:[Object(c.jsxs)("div",{className:"field-holder",children:[Object(c.jsx)("label",{className:"form-label",htmlFor:"name",children:"Name"}),Object(c.jsx)("input",{className:"signup-form-input",required:!0,type:"text",name:"name",value:i,onChange:function(e){return u(e.target.value)}})]}),Object(c.jsxs)("div",{className:"field-holder",children:[Object(c.jsx)("label",{className:"form-label",htmlFor:"price",children:"Price"}),Object(c.jsx)("input",{className:"signup-form-input",required:!0,type:"number",step:"any",name:"price",value:b,onChange:function(e){return f(e.target.value)}})]}),Object(c.jsxs)("div",{className:"field-holder",children:[Object(c.jsx)("label",{className:"form-label",htmlFor:"category",children:"Category"}),Object(c.jsxs)("select",{className:"product-form-select",required:!0,value:m,onChange:function(e){return x(e.target.value)},children:[Object(c.jsx)("option",{value:"Clothing",children:"Clothing"}),Object(c.jsx)("option",{value:"Jewelry",children:"Jewelry"}),Object(c.jsx)("option",{value:"Home",children:"Home"})]})]}),Object(c.jsxs)("div",{className:"field-holder",children:[Object(c.jsx)("label",{className:"form-label",htmlFor:"description",children:"Description"}),Object(c.jsx)("textarea",{className:"form-textarea",value:N,onChange:function(e){return y(e.target.value)}})]}),Object(c.jsxs)("div",{className:"field-holder",children:[Object(c.jsx)("label",{className:"form-label",htmlFor:"width",children:"Width"}),Object(c.jsxs)("div",{className:"select-div",children:[Object(c.jsx)("input",{className:"product-select-input",type:"number",step:"any",value:T,onChange:function(e){return q(e.target.value)}}),Object(c.jsxs)("select",{className:"product-unit-select",value:z,onChange:function(e){return W(e.target.value)},children:[Object(c.jsx)("option",{value:"in",children:"Inches"}),Object(c.jsx)("option",{value:"ft",children:"Feet"}),Object(c.jsx)("option",{value:"cm",children:"Centimeters"})]})]})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("label",{className:"form-label",htmlFor:"length",children:"Length"}),Object(c.jsxs)("div",{className:"select-div",children:[Object(c.jsx)("input",{className:"product-select-input",type:"number",step:"any",value:J,onChange:function(e){return U(e.target.value)}}),Object(c.jsxs)("select",{className:"product-unit-select",value:M,onChange:function(e){return $(e.target.value)},children:[Object(c.jsx)("option",{value:"in",children:"Inches"}),Object(c.jsx)("option",{value:"ft",children:"Feet"}),Object(c.jsx)("option",{value:"cm",children:"Centimeters"})]})]})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("label",{className:"form-label",htmlFor:"height",children:"Height"}),Object(c.jsxs)("div",{className:"select-div",children:[Object(c.jsx)("input",{className:"product-select-input",type:"number",step:"any",value:S,onChange:function(e){return C(e.target.value)}}),Object(c.jsxs)("select",{className:"product-unit-select",value:R,onChange:function(e){return Y(e.target.value)},children:[Object(c.jsx)("option",{value:"in",children:"Inches"}),Object(c.jsx)("option",{value:"ft",children:"Feet"}),Object(c.jsx)("option",{value:"cm",children:"Centimeters"})]})]})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("label",{className:"form-label",htmlFor:"weight",children:"Weight"}),Object(c.jsxs)("div",{className:"select-div",children:[Object(c.jsx)("input",{className:"product-select-input",type:"number",step:"any",value:V,onChange:function(e){return X(e.target.value)}}),Object(c.jsxs)("select",{className:"product-unit-select",value:te,onChange:function(e){return ne(e.target.value)},children:[Object(c.jsx)("option",{value:"lbs",children:"Pounds"}),Object(c.jsx)("option",{value:"oz",children:"Ounces"}),Object(c.jsx)("option",{value:"kg",children:"Kilograms"})]})]})]}),Object(c.jsxs)("div",{className:"field-holder",children:[Object(c.jsx)("label",{className:"form-label",htmlFor:"quantity",children:"Quantity"}),Object(c.jsx)("input",{className:"signup-form-input",type:"number",value:ae,onChange:function(e){return se(e.target.value)}})]}),Object(c.jsxs)("div",{className:"field-holder",children:[Object(c.jsx)("label",{className:"form-label",htmlFor:"tags",children:"Tags"}),Object(c.jsx)("input",{className:"signup-form-input",type:"text",value:oe,onChange:function(e){return le(e.target.value)},placeholder:"e.g. Ring, Soccer, etc"})]}),Object(c.jsxs)("div",{className:"form-upload-div",children:[Object(c.jsx)("p",{children:Oe}),Object(c.jsxs)("label",{className:"upload-choice",htmlFor:"image",children:["Select",Object(c.jsx)("span",{className:"login-spacer"}),Object(c.jsx)("i",{className:"far fa-folder-open"})]}),Object(c.jsx)("input",{id:"image",type:"file",onChange:function(e){var t=e.target.files[0];pe(t),me(t.name)}})]}),Object(c.jsx)("div",{children:Object(c.jsxs)("button",{className:"login-button",type:"submit",children:["Submit",Object(c.jsx)("span",{className:"login-spacer"}),Object(c.jsx)("i",{className:"fas fa-arrow-circle-right"})]})})]})})},$e=(n(48),function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.session.user})),n=Object(a.useState)(!1),r=Object(Ie.a)(n,2),s=r[0],i=r[1],u=Object(a.useState)(!1),l=Object(Ie.a)(u,2),j=l[0],b=l[1],f=Object(a.useState)(!1),h=Object(Ie.a)(f,2),O=h[0],x=h[1];Object(a.useEffect)((function(){if(s){var e=function(){i(!1)};return document.addEventListener("click",e),function(){return document.removeEventListener("click",e)}}}),[s]);return Object(c.jsxs)("div",{className:"nav-holder",children:[Object(c.jsx)("div",{className:"nav-user-icon",onClick:function(){s||i(!0)},children:Object(c.jsx)("img",{className:"nav-user-image",src:"https://crafty-app.s3.us-east-2.amazonaws.com/".concat(t.profile_pic),alt:"profile"})}),s&&Object(c.jsxs)("div",{className:"profile-button-dropdown",children:[Object(c.jsx)("button",{className:"profile-dropdown-links",onClick:function(){return x(!0)},children:"List a Product"}),Object(c.jsx)(De.b,{className:"profile-dropdown-links",to:"/user/".concat(t.id),children:"Your Profile"}),Object(c.jsx)("button",{className:"profile-dropdown-links",onClick:function(){return b(!0)},children:"Delete Profile"}),Object(c.jsx)("button",{className:"profile-dropdown-links",onClick:function(){return e(function(){var e=Object(p.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/auth/logout",{method:"GET",headers:{"Content-Type":"application/json"}});case 2:return n=e.sent,t(m()),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:"Log Out"})]}),Object(c.jsx)(We,{open:j,onClose:function(){return b(!1)},children:Object(c.jsx)(Ge,{})}),Object(c.jsx)(We,{open:O,onClose:function(){return x(!1)},children:Object(c.jsx)(Me,{onClose:function(){return x(!1)}})})]})}),Qe=(n(49),function(){var e=Object(a.useState)(""),t=Object(Ie.a)(e,2),n=t[0],r=t[1],s=Object(Ee.g)(),i=function(){var e=Object(p.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==n){e.next=3;break}return e.abrupt("return",s.push("/search/all"));case 3:return e.abrupt("return",s.push("/search/".concat(n)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("div",{className:"searchbar-container",children:Object(c.jsx)("div",{className:"searchbar-border",children:Object(c.jsxs)("form",{onSubmit:i,className:"searchbar-form",children:[Object(c.jsx)("input",{className:"searchbar-input",type:"text",value:n,onChange:function(e){return r(e.target.value)},placeholder:"Search for tags"}),Object(c.jsx)("button",{className:"searchbar-submit-button",type:"submit",children:Object(c.jsx)("i",{className:"fas fa-search"})})]})})})})}),Ke=(n(50),function(){var e=Object(o.c)((function(e){return e.session.user})),t=Object(o.c)((function(e){return e.cart.cart})),n=Object(o.b)();return Object(a.useEffect)((function(){e&&(n(ye(e.id)),n(Ce(e.id)),n(K()))}),[n,e]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:"navbar-main-div",children:e?Object(c.jsxs)("div",{className:"navbar-widgets",children:[Object(c.jsx)(De.c,{to:"/shop",className:"navbar-logo",children:"Crafty"}),Object(c.jsx)(Qe,{}),Object(c.jsxs)("div",{className:"nav-control-buttons",children:[Object(c.jsx)($e,{}),Object(c.jsx)(De.b,{to:"/checkout",children:Object(c.jsx)("i",{className:"fas fa-shopping-cart cart-icon",children:Object(c.jsx)("p",{className:"cart-items",children:t.length})})})]})]}):Object(c.jsx)("div",{className:"navbar-widgets",children:Object(c.jsx)("p",{className:"navbar-logo",children:"Crafty"})})}),e?Object(c.jsx)("div",{className:"navbar-category-container",children:Object(c.jsxs)("div",{className:"navbar-categories",children:[Object(c.jsx)(De.c,{to:"/category/Clothing",children:"Clothing"}),Object(c.jsx)(De.c,{to:"/category/Jewelry",children:"Jewelry"}),Object(c.jsx)(De.c,{to:"/category/Home",children:"Home & Bath"})]})}):Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("div",{className:"navbar-category-container"})})]})}),Ve=(n(51),function(){var e=Object(a.useState)(!1),t=Object(Ie.a)(e,2),n=t[0],r=t[1],s=Object(o.c)((function(e){return e.products.products})),i=Object(o.c)((function(e){return e.session.user})),u=Object(o.b)();return Object(a.useEffect)((function(){Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(Ce(i.id));case 2:return e.next=4,u(K());case 4:return e.next=6,u(function(){var e=Object(p.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/products/all");case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,t(I(r.products)),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 6:return e.abrupt("return",r(!0));case 7:case"end":return e.stop()}}),e)})))()}),[u,i.id]),n&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("p",{className:"feed-header",children:"All Items"}),Object(c.jsx)("div",{className:"feed-container",children:s.map((function(e,t){return Object(c.jsx)(Ye,{product:e},e.name.concat(t))}))})]})}),Xe=function(){var e=Object(a.useState)(""),t=Object(Ie.a)(e,2),n=t[0],r=t[1],s=Object(a.useState)(""),i=Object(Ie.a)(s,2),u=i[0],l=i[1],j=Object(o.c)((function(e){return e.products.product})),b=Object(o.b)(),f=Object(Ee.g)(),h=function(){var e=Object(p.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),b(B({username:u,password:n},j.id)),e.abrupt("return",f.push("/shop"));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.jsxs)("form",{className:"deletion-form",onSubmit:h,children:[Object(c.jsxs)("div",{className:"warning-div",children:[Object(c.jsxs)("p",{className:"warning-header",children:["You are about to delete: ",j.name]}),Object(c.jsx)("p",{className:"warning-text",children:"This will also delete all ratings and data associated with this product. Enter your credentials below"})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("label",{className:"form-label",htmlFor:"username",children:"Username"}),Object(c.jsx)("input",{className:"warning-input",type:"text",name:"username",value:u,onChange:function(e){return l(e.target.value)}})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("label",{className:"form-label",htmlFor:"password",children:"Password"}),Object(c.jsx)("input",{className:"warning-input",type:"password",name:"password",value:n,onChange:function(e){return r(e.target.value)}})]}),Object(c.jsx)("button",{className:"warning-button",type:"submit",children:"Delete Product"})]})},Ze=function(e){var t=e.onClose,n=Object(a.useState)(!1),r=Object(Ie.a)(n,2),s=r[0],i=r[1],u=Object(Ee.h)().id,l=Object(o.c)((function(e){return e.session.user.id})),j=Object(o.c)((function(e){return e.products.product})),b=j.dimensions.split(" x "),f=Object(Ee.g)(),h=Object(a.useState)(j.name),O=Object(Ie.a)(h,2),m=O[0],x=O[1],v=Object(a.useState)(j.price),g=Object(Ie.a)(v,2),N=g[0],y=g[1],w=Object(a.useState)(j.category),k=Object(Ie.a)(w,2),S=k[0],C=k[1],F=Object(a.useState)(j.description),P=Object(Ie.a)(F,2),T=P[0],q=P[1],I=Object(a.useState)(b[2].split(" ")[0]),D=Object(Ie.a)(I,2),J=D[0],U=D[1],B=Object(a.useState)(b[1].split(" ")[0]),R=Object(Ie.a)(B,2),Y=R[0],H=R[1],L=Object(a.useState)(b[0].split(" ")[0]),z=Object(Ie.a)(L,2),W=z[0],A=z[1],G=Object(a.useState)(b[2].split(" ")[1]),M=Object(Ie.a)(G,2),$=M[0],Q=M[1],K=Object(a.useState)(b[1].split(" ")[1]),V=Object(Ie.a)(K,2),X=V[0],Z=V[1],ee=Object(a.useState)(b[0].split(" ")[1]),te=Object(Ie.a)(ee,2),ne=te[0],re=te[1],ce=Object(a.useState)(j.weight.split(" ")[0]),ae=Object(Ie.a)(ce,2),se=ae[0],ie=ae[1],ue=Object(a.useState)(j.weight.split(" ")[1]),oe=Object(Ie.a)(ue,2),le=oe[0],je=oe[1],be=Object(a.useState)(j.quantity),de=Object(Ie.a)(be,2),pe=de[0],fe=de[1],he=Object(a.useState)(j.tags.join(", ")),Oe=Object(Ie.a)(he,2),me=Oe[0],xe=Oe[1],ve=Object(a.useState)(""),ge=Object(Ie.a)(ve,2),Ne=ge[0],ye=ge[1],we=Object(a.useState)("Product Image"),ke=Object(Ie.a)(we,2),Se=ke[0],Ce=ke[1],Fe=Object(o.b)();Object(a.useEffect)((function(){Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fe(E(u));case 2:return e.abrupt("return",i(!0));case 3:case"end":return e.stop()}}),e)})))()}),[Fe,u]);var Pe=function(){var e=Object(p.a)(d.a.mark((function e(n){var r,c,a,s,i,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),r="".concat(Y," ").concat(X," x ").concat(W," ").concat(ne," x ").concat(J," ").concat($),c=me.split(", "),a={id:j.id,sold_by:l,name:m,price:N,category:S,description:T,dimensions:r,weight:"".concat(se," ").concat(le),tags:c,quantity:pe,image:j.image},!Ne){e.next=14;break}return(s=new FormData).append("file",Ne),e.next=9,fetch("/api/store/upload",{method:"POST",body:s});case 9:return i=e.sent,e.next=12,i.json();case 12:o=e.sent,a.image=o.filename;case 14:return e.next=16,Fe(_(a,j.id));case 16:return t(),e.abrupt("return",f.push("/product/".concat(u)));case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return s&&Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("form",{className:"product-form",onSubmit:Pe,children:[Object(c.jsxs)("div",{className:"field-holder",children:[Object(c.jsx)("label",{className:"form-label",htmlFor:"name",children:"Name"}),Object(c.jsx)("input",{className:"signup-form-input",required:!0,type:"text",name:"name",value:m,onChange:function(e){return x(e.target.value)}})]}),Object(c.jsxs)("div",{className:"field-holder",children:[Object(c.jsx)("label",{className:"form-label",htmlFor:"price",children:"Price"}),Object(c.jsx)("input",{className:"signup-form-input",required:!0,type:"number",step:"any",name:"price",value:N,onChange:function(e){return y(e.target.value)}})]}),Object(c.jsxs)("div",{className:"field-holder",children:[Object(c.jsx)("label",{className:"form-label",htmlFor:"category",children:"Category"}),Object(c.jsxs)("select",{className:"product-form-select",required:!0,value:S,onChange:function(e){return C(e.target.value)},children:[Object(c.jsx)("option",{value:"Clothing",children:"Clothing"}),Object(c.jsx)("option",{value:"Jewelry",children:"Jewelry"}),Object(c.jsx)("option",{value:"Home",children:"Home"})]})]}),Object(c.jsxs)("div",{className:"field-holder",children:[Object(c.jsx)("label",{className:"form-label",htmlFor:"description",children:"Description"}),Object(c.jsx)("textarea",{className:"form-textarea",value:T,onChange:function(e){return q(e.target.value)}})]}),Object(c.jsxs)("div",{className:"field-holder",children:[Object(c.jsx)("label",{className:"form-label",htmlFor:"width",children:"Width"}),Object(c.jsxs)("div",{className:"select-div",children:[Object(c.jsx)("input",{className:"product-select-input",type:"number",step:"any",value:Y,onChange:function(e){return H(e.target.value)}}),Object(c.jsxs)("select",{className:"product-unit-select",value:X,onChange:function(e){return Z(e.target.value)},children:[Object(c.jsx)("option",{value:"in",children:"Inches"}),Object(c.jsx)("option",{value:"ft",children:"Feet"}),Object(c.jsx)("option",{value:"cm",children:"Centimeters"})]})]})]}),Object(c.jsxs)("div",{className:"field-holder",children:[Object(c.jsx)("label",{className:"form-label",htmlFor:"length",children:"Length"}),Object(c.jsxs)("div",{className:"select-div",children:[Object(c.jsx)("input",{className:"product-select-input",type:"number",step:"any",value:W,onChange:function(e){return A(e.target.value)}}),Object(c.jsxs)("select",{className:"product-unit-select",value:ne,onChange:function(e){return re(e.target.value)},children:[Object(c.jsx)("option",{value:"in",children:"Inches"}),Object(c.jsx)("option",{value:"ft",children:"Feet"}),Object(c.jsx)("option",{value:"cm",children:"Centimeters"})]})]})]}),Object(c.jsxs)("div",{className:"field-holder",children:[Object(c.jsx)("label",{className:"form-label",htmlFor:"height",children:"Height"}),Object(c.jsxs)("div",{className:"select-div",children:[Object(c.jsx)("input",{className:"product-select-input",type:"number",step:"any",value:J,onChange:function(e){return U(e.target.value)}}),Object(c.jsxs)("select",{className:"product-unit-select",value:$,onChange:function(e){return Q(e.target.value)},children:[Object(c.jsx)("option",{value:"in",children:"Inches"}),Object(c.jsx)("option",{value:"ft",children:"Feet"}),Object(c.jsx)("option",{value:"cm",children:"Centimeters"})]})]})]}),Object(c.jsxs)("div",{className:"field-holder",children:[Object(c.jsx)("label",{className:"form-label",htmlFor:"weight",children:"Weight"}),Object(c.jsxs)("div",{className:"select-div",children:[Object(c.jsx)("input",{className:"product-select-input",type:"number",step:"any",value:se,onChange:function(e){return ie(e.target.value)}}),Object(c.jsxs)("select",{className:"product-unit-select",value:le,onChange:function(e){return je(e.target.value)},children:[Object(c.jsx)("option",{value:"lbs",children:"Pounds"}),Object(c.jsx)("option",{value:"oz",children:"Ounces"}),Object(c.jsx)("option",{value:"kg",children:"Kilograms"})]})]})]}),Object(c.jsxs)("div",{className:"field-holder",children:[Object(c.jsx)("label",{className:"form-label",htmlFor:"quantity",children:"Quantity"}),Object(c.jsx)("input",{className:"signup-form-input",type:"number",value:pe,onChange:function(e){return fe(e.target.value)}})]}),Object(c.jsxs)("div",{className:"field-holder",children:[Object(c.jsx)("label",{className:"form-label",htmlFor:"tags",children:"Tags"}),Object(c.jsx)("input",{className:"signup-form-input",type:"text",value:me,onChange:function(e){return xe(e.target.value)},placeholder:"e.g. Ring, Soccer, etc"})]}),Object(c.jsxs)("div",{className:"form-upload-div",children:[Object(c.jsx)("p",{children:Se}),Object(c.jsxs)("label",{className:"upload-choice",htmlFor:"image",children:["Select",Object(c.jsx)("span",{className:"login-spacer"}),Object(c.jsx)("i",{className:"far fa-folder-open"})]}),Object(c.jsx)("input",{id:"image",type:"file",onChange:function(e){var t=e.target.files[0];ye(t),Ce(t.name)}})]}),Object(c.jsx)("div",{children:Object(c.jsx)("button",{className:"login-button",type:"submit",children:"Save Changes"})})]})})},et=function(e){var t=e.onClose,n=e.rating,r=Object(o.c)((function(e){return e.session.user})),s=Object(a.useState)(n.rating),i=Object(Ie.a)(s,2),u=i[0],l=i[1],j=Object(a.useState)(n.comment),b=Object(Ie.a)(j,2),f=b[0],h=b[1],O=Object(o.b)(),m=n.product_id,x=function(){var e=Object(p.a)(d.a.mark((function e(c){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.preventDefault(),a={id:n.id,user_id:r.id,rating:u,comment:f},O(Y(m,a)),t();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.jsxs)("form",{onSubmit:x,className:"review-form",children:[Object(c.jsxs)("div",{className:"field-holder",children:[Object(c.jsx)("label",{className:"form-label",htmlFor:"stars",children:"Stars *"}),Object(c.jsx)("input",{className:"signup-form-input",required:!0,type:"number",min:"0",max:"5",placeholder:"Out of 5 stars",value:u,onChange:function(e){return l(e.target.value)}})]}),Object(c.jsxs)("div",{className:"field-holder",children:[Object(c.jsx)("label",{className:"form-label",htmlFor:"comment",children:"Comment *"}),Object(c.jsx)("textarea",{className:"form-textarea",name:"comment",placeholder:"Tell use about your experience with this product",value:f,onChange:function(e){return h(e.target.value)}})]}),Object(c.jsxs)("button",{className:"login-button",children:["Publish",Object(c.jsx)("span",{className:"login-spacer"}),Object(c.jsx)("i",{className:"fas fa-pencil-alt"})]})]})},tt=function(e){var t=e.rating,n=e.currentUser,r=Object(a.useState)(!1),s=Object(Ie.a)(r,2),i=s[0],u=s[1];return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("div",{className:"review-container",children:[Object(c.jsxs)("div",{className:"product-review",children:[Object(c.jsx)("p",{children:function(e){for(var n=[],r=0;r<t.rating;r++)n.push(Object(c.jsx)("i",{className:"fas fa-star"},r));return n}(t.rating).map((function(e){return e}))}),Object(c.jsxs)("p",{className:"review-user",children:["By ",t.username]}),Object(c.jsx)("p",{children:t.comment})]}),Object(c.jsx)("div",{className:"review-edit-button",children:n.id===t.userId?Object(c.jsx)("button",{onClick:function(){return u(!0)},children:Object(c.jsx)("i",{className:"fas fa-pencil-alt"})}):Object(c.jsx)(c.Fragment,{})})]}),Object(c.jsx)(We,{open:i,onClose:function(){return u(!1)},children:Object(c.jsx)(et,{rating:t,onClose:function(){return u(!1)}})})]})},nt=function(){var e=Object(o.c)((function(e){return e.favorites.favorites})),t=Object(o.c)((function(e){return e.session.user})),n=Object(a.useState)(!1),r=Object(Ie.a)(n,2),s=r[0],i=r[1],u=Object(o.c)((function(e){return e.products.product})),l=Object(a.useState)(!1),j=Object(Ie.a)(l,2),b=j[0],f=j[1],h=Object(o.b)();Object(a.useEffect)((function(){Object(p.a)(d.a.mark((function t(){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=0;case 1:if(!(n<e.length)){t.next=9;break}if(e[n].product.id!==u.id){t.next=6;break}return t.next=6,i(!0);case 6:n++,t.next=1;break;case 9:return t.abrupt("return",f(!0));case 10:case"end":return t.stop()}}),t)})))()}),[e,u.id]);var O=function(){var e=Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s){e.next=6;break}return e.next=3,h(w(u.id,t.id));case 3:return e.abrupt("return",i(!1));case 6:return e.next=8,i(!0);case 8:return e.abrupt("return",h(y(u.id,t.id)));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return b&&Object(c.jsx)(c.Fragment,{children:s?Object(c.jsx)("button",{className:"warning-button",onClick:O,children:"Unfavorite"}):Object(c.jsx)("button",{className:"login-button",onClick:O,children:"Favorite"})})},rt=function(e){var t=Object(o.c)((function(e){return e.session.user.following})),n=Object(o.c)((function(e){return e.session.user.id})),r=Object(o.c)((function(e){return e.seller.seller.id})),s=Object(a.useState)(!1),i=Object(Ie.a)(s,2),u=i[0],l=i[1],j=Object(a.useState)(!1),b=Object(Ie.a)(j,2),f=b[0],h=b[1],O=Object(o.b)();Object(a.useEffect)((function(){Object(p.a)(d.a.mark((function n(){var c;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,O(ne(e.seller));case 2:c=0;case 3:if(!(c<t.length)){n.next=10;break}if(t[c].id!==r){n.next=7;break}return n.next=7,l(!0);case 7:c++,n.next=3;break;case 10:return n.next=12,h(!0);case 12:case"end":return n.stop()}}),n)})))()}),[r,t,e.seller,O]);var m=function(){var e=Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!u){e.next=6;break}return e.next=3,O(S(r,n));case 3:return e.abrupt("return",l(!1));case 6:return e.next=8,l(!0);case 8:return e.abrupt("return",O(k(r,n)));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return f&&Object(c.jsx)(c.Fragment,{children:u?Object(c.jsx)("button",{className:"warning-button",onClick:m,children:"Unfollow"}):Object(c.jsx)("button",{className:"login-button",onClick:m,children:"Follow"})})},ct=function(){var e=Object(o.c)((function(e){return e.cart.cart})),t=Object(o.c)((function(e){return e.products.product.id})),n=Object(a.useState)(!1),r=Object(Ie.a)(n,2),s=r[0],i=r[1],u=Object(a.useState)(!1),l=Object(Ie.a)(u,2),j=l[0],b=l[1],f=Object(o.b)();Object(a.useEffect)((function(){Object(p.a)(d.a.mark((function n(){var r;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=0;case 1:if(!(r<e.length)){n.next=8;break}if(e[r]!==t){n.next=5;break}return n.next=5,i(!0);case 5:r++,n.next=1;break;case 8:return n.next=10,b(!0);case 10:case"end":return n.stop()}}),n)})))()}),[e,t]);var h=function(){var e=Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s){e.next=6;break}return e.next=3,f(X(t));case 3:return e.abrupt("return",i(!1));case 6:return e.next=8,i(!0);case 8:return e.abrupt("return",f(V(t)));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return j&&Object(c.jsx)(c.Fragment,{children:s?Object(c.jsx)("button",{className:"warning-button",onClick:h,children:"Remove Item"}):Object(c.jsx)("button",{className:"login-button",onClick:h,children:"Add to Cart"})})},at=function(e){var t=e.onClose,n=Object(o.c)((function(e){return e.session.user})),r=Object(a.useState)(""),s=Object(Ie.a)(r,2),i=s[0],u=s[1],l=Object(a.useState)(""),j=Object(Ie.a)(l,2),b=j[0],f=j[1],h=Object(Ee.h)().id,O=Object(o.b)(),m=function(){var e=Object(p.a)(d.a.mark((function e(r){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),c={user_id:n.id,rating:i,comment:b},e.next=4,O(R(h,c));case 4:return e.next=6,O(ye(n.id));case 6:return e.next=8,O(Ce(n.id));case 8:t();case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.jsxs)("form",{onSubmit:m,className:"review-form",children:[Object(c.jsxs)("div",{className:"field-holder",children:[Object(c.jsx)("label",{className:"form-label",htmlFor:"stars",children:"Stars *"}),Object(c.jsx)("input",{className:"signup-form-input",required:!0,type:"number",min:"0",max:"5",placeholder:"Out of 5 stars",value:i,onChange:function(e){return u(e.target.value)}})]}),Object(c.jsxs)("div",{className:"field-holder",children:[Object(c.jsx)("label",{className:"form-label",htmlFor:"comment",children:"Comment *"}),Object(c.jsx)("textarea",{className:"form-textarea",name:"comment",placeholder:"Tell use about your experience with this product",value:b,onChange:function(e){return f(e.target.value)}})]}),Object(c.jsxs)("button",{className:"login-button",children:["Publish",Object(c.jsx)("span",{className:"login-spacer"}),Object(c.jsx)("i",{className:"fas fa-pencil-alt"})]})]})},st=(n(52),function(){var e=Object(a.useState)(!1),t=Object(Ie.a)(e,2),n=t[0],r=t[1],s=Object(o.c)((function(e){return e.products.product})),i=Object(o.c)((function(e){return e.session.user})),u=Object(o.c)((function(e){return e.ratings.reviews})),l=Object(o.c)((function(e){return e.history.history})),j=Object(a.useState)(!1),b=Object(Ie.a)(j,2),f=b[0],h=b[1],O=Object(a.useState)(!1),m=Object(Ie.a)(O,2),x=m[0],v=m[1],g=Object(a.useState)(!1),N=Object(Ie.a)(g,2),y=N[0],w=N[1],k=Object(a.useState)(!1),S=Object(Ie.a)(k,2),C=S[0],F=S[1],P=Object(a.useState)(!1),T=Object(Ie.a)(P,2),q=T[0],I=T[1],D=Object(Ee.h)().id,J=Object(o.b)();Object(a.useEffect)((function(){Object(p.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0;case 1:if(!(t<l.length)){e.next=9;break}if(l[t].product.id!==parseInt(D)){e.next=6;break}return e.next=5,F(!0);case 5:return e.abrupt("break",9);case 6:t++,e.next=1;break;case 9:n=0;case 10:if(!(n<u.length)){e.next=18;break}if(u[n].product_id!==parseInt(D)){e.next=15;break}return e.next=14,I(!0);case 14:return e.abrupt("break",18);case 15:n++,e.next=10;break;case 18:return e.next=20,J(W(i.id));case 20:return e.next=22,J(E(D));case 22:return e.abrupt("return",r(!0));case 23:case"end":return e.stop()}}),e)})))()}),[J,D,i,l,u]);return n&&Object(c.jsxs)("div",{className:"product-view-grid",children:[Object(c.jsx)("div",{className:"product-view-image-container",children:Object(c.jsx)("img",{className:"product-view-image",src:"https://crafty-app.s3.us-east-2.amazonaws.com/".concat(s.image),alt:"product"})}),i.id===s.user.id?Object(c.jsxs)("div",{className:"product-view-controls seller-controls",children:[Object(c.jsx)("button",{className:"login-button",onClick:function(){return h(!0)},children:"Edit Product"}),Object(c.jsx)("button",{className:"warning-button",onClick:function(){return v(!0)},children:"Delete Product"})]}):Object(c.jsxs)("div",{className:"product-view-controls",children:[Object(c.jsx)(nt,{}),Object(c.jsx)(rt,{seller:s.user.id}),s.quantity<=0?Object(c.jsx)("p",{className:"warning-header sold-out",children:"SOLD OUT"}):Object(c.jsx)(ct,{})]}),Object(c.jsxs)("div",{className:"product-view-details",children:[Object(c.jsx)("p",{className:"product-view-name",children:s.name}),Object(c.jsxs)("p",{children:[Object(c.jsx)("span",{className:"product-detail-header",children:"Description: "})," ",s.description]}),Object(c.jsxs)("p",{children:[Object(c.jsx)("span",{className:"product-detail-header",children:"Sold by: "}),Object(c.jsxs)(De.b,{to:"/user/".concat(s.user.id),children:[s.user.username," ",Object(c.jsx)("i",{className:"fas fa-arrow-circle-right"})]})]}),Object(c.jsxs)("p",{children:[Object(c.jsx)("span",{className:"product-detail-header",children:"Category: "}),s.category]}),s.quantity<=0?Object(c.jsx)("p",{className:"product-detail-header",children:"Out of Stock"}):Object(c.jsxs)("p",{children:[Object(c.jsx)("span",{className:"product-detail-header",children:"Number in Stock: "}),s.quantity]}),Object(c.jsxs)("p",{children:[Object(c.jsx)("span",{className:"product-detail-header",children:"Dimensions: "}),s.dimensions]}),Object(c.jsxs)("p",{children:[Object(c.jsx)("span",{className:"product-detail-header",children:"Weight: "}),s.weight]})]}),Object(c.jsxs)("div",{className:"product-view-ratings",children:[Object(c.jsx)("p",{className:"product-view-ratings-header",children:"Ratings"}),q&&C?Object(c.jsx)("p",{className:"rating-thank-you",children:"Thanks for your review! You may edit it below"}):C?Object(c.jsx)("div",{className:"product-view-review-button",children:Object(c.jsx)("button",{className:"login-button",onClick:function(){return w(!0)},children:"Review Product"})}):Object(c.jsx)("p",{className:"rating-thank-you",children:"Purchase this product and check out the review system!"}),0===s.rating.length?Object(c.jsx)("p",{className:"no-reviews",children:"Be the first review!"}):Object(c.jsx)(c.Fragment,{}),s.rating.map((function(e,t){return Object(c.jsx)(tt,{currentUser:i,rating:e},t)}))]}),Object(c.jsx)(We,{open:y,onClose:function(){return w(!1)},children:Object(c.jsx)(at,{onClose:function(){return w(!1)}})}),Object(c.jsx)(We,{open:f,onClose:function(){return h(!1)},children:Object(c.jsx)(Ze,{onClose:function(){return h(!1)}})}),Object(c.jsx)(We,{open:x,onClose:function(){return v(!1)},children:Object(c.jsx)(Xe,{})})]})}),it=function(e){var t=e.onClose,n=Object(o.c)((function(e){return e.session.user})),r=Object(a.useState)(""),s=Object(Ie.a)(r,2),i=s[0],u=s[1],l=Object(a.useState)(n.bio),j=Object(Ie.a)(l,2),b=j[0],f=j[1],h=Object(a.useState)(n.money),O=Object(Ie.a)(h,2),m=O[0],x=O[1],v=Object(a.useState)(""),N=Object(Ie.a)(v,2),y=N[0],w=N[1],k=Object(a.useState)("Profile Picture"),S=Object(Ie.a)(k,2),C=S[0],F=S[1],P=Object(a.useState)(""),T=Object(Ie.a)(P,2),q=T[0],I=T[1],D=Object(a.useState)("Banner Picture"),E=Object(Ie.a)(D,2),J=E[0],U=E[1],_=Object(o.b)(),B=function(){var e=Object(p.a)(d.a.mark((function e(r){var c,a,s,u,o,l,j;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),c={username:n.username,password:i,profile_pic:n.profile_pic,banner:n.banner,money:m,bio:b},!y){e.next=12;break}return(a=new FormData).append("file",y),e.next=7,fetch("/api/store/upload",{method:"POST",body:a});case 7:return s=e.sent,e.next=10,s.json();case 10:u=e.sent,c.profile_pic=u.filename;case 12:if(!q){e.next=22;break}return(o=new FormData).append("file",q),e.next=17,fetch("/api/store/upload",{method:"POST",body:o});case 17:return l=e.sent,e.next=20,l.json();case 20:j=e.sent,c.banner=j.filename;case 22:return e.next=24,_(g(c,n.id));case 24:return t(),e.abrupt("return");case 26:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("form",{className:"signup-form",encType:"multipart/form-data",onSubmit:B,children:[Object(c.jsxs)("div",{className:"field-holder",children:[Object(c.jsx)("label",{htmlFor:"password",className:"form-label",children:"Password *"}),Object(c.jsx)("input",{required:!0,className:"signup-form-input",type:"password",name:"password",placeholder:"Current password",value:i,onChange:function(e){return u(e.target.value)}})]}),Object(c.jsxs)("div",{className:"field-holder",children:[Object(c.jsx)("label",{htmlFor:"bio",className:"form-label",children:"Bio"}),Object(c.jsx)("textarea",{className:"form-textarea",name:"bio",placeholder:"Tell us about yourself, or your products!",value:b,onChange:function(e){return f(e.target.value)}})]}),Object(c.jsxs)("div",{className:"field-holder",children:[Object(c.jsx)("label",{htmlFor:"money",className:"form-label",children:"Money (always free)"}),Object(c.jsx)("input",{className:"signup-form-input",type:"number",step:"any",value:m,onChange:function(e){return x(e.target.value)}})]}),Object(c.jsx)("p",{className:"user-edit-instruction",children:"To keep your current photos, just leave these fields blank"}),Object(c.jsxs)("div",{className:"form-upload-div",children:[Object(c.jsx)("p",{children:C}),Object(c.jsxs)("label",{htmlFor:"profilePic",className:"upload-choice",children:["Select",Object(c.jsx)("span",{className:"login-spacer"}),Object(c.jsx)("i",{className:"far fa-folder-open"})]}),Object(c.jsx)("input",{type:"file",id:"profilePic",onChange:function(e){var t=e.target.files[0];w(t),F(t.name)}})]}),Object(c.jsxs)("div",{className:"form-upload-div",children:[Object(c.jsx)("p",{children:J}),Object(c.jsxs)("label",{htmlFor:"bannerPic",className:"upload-choice",children:["Select ",Object(c.jsx)("span",{className:"login-spacer"}),Object(c.jsx)("i",{className:"far fa-folder-open"})]}),Object(c.jsx)("input",{type:"file",id:"bannerPic",onChange:function(e){var t=e.target.files[0];I(t),U(t.name)}})]}),Object(c.jsx)("div",{children:Object(c.jsxs)("button",{className:"login-button",type:"submit",children:["Save ",Object(c.jsx)("span",{className:"login-spacer"}),Object(c.jsx)("i",{className:"fas fa-arrow-circle-right"})]})})]})})},ut=(n(53),function(){var e=Object(o.c)((function(e){return e.session.user})),t=Object(o.c)((function(e){return e.session.user.following})),n=Object(o.c)((function(e){return e.seller.seller})),r=Object(o.c)((function(e){return e.products.products})),s=Object(o.c)((function(e){return e.favorites.favorites})),i=Object(a.useState)(!1),u=Object(Ie.a)(i,2),l=u[0],j=u[1],b=Object(a.useState)(!1),f=Object(Ie.a)(b,2),h=f[0],O=f[1],m=e.id===n.id,x=Object(o.b)(),v=Object(Ee.h)().id;Object(a.useEffect)((function(){Object(p.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x(W(e.id));case 2:return t.next=4,x(J(v));case 4:return t.next=6,x(ne(v));case 6:return t.abrupt("return",O(!0));case 7:case"end":return t.stop()}}),t)})))()}),[v,e,e.id,x]);return h&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:"profile-banner-container",children:Object(c.jsx)("img",{className:"profile-banner",src:"https://crafty-app.s3.us-east-2.amazonaws.com/".concat(n.banner),alt:"banner"})}),Object(c.jsxs)("div",{className:"profile-grid-div",children:[Object(c.jsxs)("div",{className:"profile-user-grid-div",children:[Object(c.jsx)("div",{className:"profile-avatar-container",children:Object(c.jsx)("img",{className:"profile-avatar",src:"https://crafty-app.s3.us-east-2.amazonaws.com/".concat(n.profile_pic),alt:"avatar"})}),Object(c.jsxs)("div",{className:"profile-username-container",children:[Object(c.jsx)("p",{className:"profile-username",children:n.username}),m?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("button",{className:"login-button",onClick:function(){return j(!0)},children:"Edit Info"}),Object(c.jsx)(We,{open:l,onClose:function(){return j(!1)},children:Object(c.jsx)(it,{onClose:function(){return j(!1)}})})]}):Object(c.jsx)(rt,{seller:n.id})]}),Object(c.jsxs)("div",{className:"profile-info-container",children:[m?Object(c.jsx)("div",{children:Object(c.jsxs)("p",{className:"profile-bio",children:["Money in your wallet: $",n.money]})}):Object(c.jsx)(c.Fragment,{}),Object(c.jsx)("p",{className:"profile-info-header",children:"About this Seller"}),Object(c.jsx)("p",{className:"profile-bio",children:n.bio}),m?Object(c.jsxs)("div",{children:[Object(c.jsx)("p",{className:"profile-info-header",children:"People You Follow"}),(t.length?t.map((function(e,t){return Object(c.jsx)("div",{className:"profile-following-link-container",children:Object(c.jsxs)(De.b,{className:"profile-following-link",to:"/user/".concat(e.id),children:[Object(c.jsx)("p",{children:e.username}),Object(c.jsx)("i",{className:"fas fa-arrow-circle-right profile-following-link-icon"})]})},t)})):[Object(c.jsx)("p",{children:"You are not following any users!"})]).map((function(e){return e}))]}):Object(c.jsx)(c.Fragment,{})]})]}),Object(c.jsxs)("div",{className:"profile-products-grid-div",children:[Object(c.jsx)("p",{className:"profile-products-header",children:m?"Your Products":"Products by this User"}),Object(c.jsx)("div",{className:"profile-products-container",children:r.map((function(e,t){return Object(c.jsx)(Ye,{product:e},e.name.concat(t))}))}),m?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("p",{className:"profile-products-header",children:"Your Favorites"}),Object(c.jsx)("div",{className:"profile-products-container",children:s.map((function(e,t){return Object(c.jsx)(Ye,{product:e.product},e.product.name.concat(t))}))})]}):Object(c.jsx)(c.Fragment,{})]})]})]})}),ot=(n(54),function(){var e=Object(a.useState)(!1),t=Object(Ie.a)(e,2),n=t[0],r=t[1],s=Object(o.c)((function(e){return e.search.results})),i=Object(Ee.h)().term,u=Object(o.b)();return Object(a.useEffect)((function(){Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("all"!==i){e.next=6;break}return e.next=3,u(function(){var e=Object(p.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/products/all");case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,t(se(r.products)),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:return e.abrupt("return",r(!0));case 6:return e.next=8,u(ie(i));case 8:return e.abrupt("return",r(!0));case 9:case"end":return e.stop()}}),e)})))()}),[i,u]),n&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:"feed-header",children:"Your Search Results"}),s.length?Object(c.jsx)(c.Fragment,{}):Object(c.jsx)("p",{className:"no-results",children:"Your search did not return any results."}),Object(c.jsx)("div",{className:"feed-container",children:s.map((function(e,t){return Object(c.jsx)(Ye,{product:e},e.name.concat(t))}))})]})}),lt=(n(55),function(){return Object(c.jsxs)("div",{className:"footer-div",children:[Object(c.jsx)("div",{className:"footer-name",children:Object(c.jsx)("p",{children:"\xa9 2021 Jacob Grooms"})}),Object(c.jsxs)("div",{className:"footer-links",children:[Object(c.jsx)("a",{href:"https://github.com/j-grooms/Crafty",children:Object(c.jsx)("i",{className:"fab fa-github"})}),Object(c.jsx)("a",{href:"mailto:grooms.jacob@gmail.com?subject=Re: Crafty",children:Object(c.jsx)("i",{className:"fas fa-at"})}),Object(c.jsx)("a",{href:"https://angel.co/u/jacob-grooms",children:Object(c.jsx)("i",{className:"fab fa-angellist"})}),Object(c.jsx)("a",{href:"https://www.linkedin.com/in/jacob-grooms/",children:Object(c.jsx)("i",{className:"fab fa-linkedin"})})]})]})}),jt=(n(56),function(){var e=Object(Ee.g)();return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("div",{className:"not-found-container",children:[Object(c.jsx)("p",{className:"not-found-text",children:"Sorry, we couldn't find the requested page!"}),Object(c.jsx)("button",{className:"login-button",onClick:function(){return e.push("/shop")},children:"Back to Shop"})]})})});var bt=function(){var e=Object(a.useState)(!1),t=Object(Ie.a)(e,2),n=t[0],r=t[1],s=Object(o.b)();return Object(a.useEffect)((function(){Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(function(){var e=Object(p.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/auth/");case 2:return n=e.sent,e.next=5,n.json();case 5:if(r=e.sent,!Object.keys(r).includes("errors")){e.next=8;break}return e.abrupt("return",n);case 8:return t(O(r)),e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:r(!0);case 3:case"end":return e.stop()}}),e)})))()}),[s]),n&&Object(c.jsxs)(De.a,{children:[Object(c.jsx)(Ke,{}),Object(c.jsxs)(Ee.d,{children:[Object(c.jsx)(Ue,{exact:!0,path:"/user/:id",children:Object(c.jsx)(ut,{})}),Object(c.jsx)(Ue,{exact:!0,path:"/product/:id",children:Object(c.jsx)(st,{})}),Object(c.jsx)(Ue,{exact:!0,path:"/category/:category",children:Object(c.jsx)(He,{})}),Object(c.jsx)(Ue,{path:"/search/:term",exact:!0,children:Object(c.jsx)(ot,{})}),Object(c.jsx)(Ue,{path:"/shop",exact:!0,children:Object(c.jsx)(Ve,{})}),Object(c.jsx)(Ue,{path:"/checkout",exact:!0,children:Object(c.jsx)(Re,{})}),Object(c.jsx)(Ee.b,{path:"/",exact:!0,children:Object(c.jsx)(Ae,{})}),Object(c.jsx)(Ee.b,{path:"/404",exact:!0,children:Object(c.jsx)(jt,{})}),Object(c.jsx)(Ee.b,{path:"*",children:Object(c.jsx)(Ee.a,{to:"/404"})})]}),Object(c.jsx)(lt,{})]})},dt=qe({products:{product:{id:null},products:null}});function pt(){return Object(c.jsx)(o.a,{store:dt,children:Object(c.jsx)(bt,{})})}u.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(pt,{})}),document.getElementById("root"))}},[[57,1,2]]]);
//# sourceMappingURL=main.1c7a894a.chunk.js.map